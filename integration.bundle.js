!function(e){function t(t){for(var o,c,l=t[0],a=t[1],u=t[2],f=0,p=[];f<l.length;f++)c=l[f],r[c]&&p.push(r[c][0]),r[c]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(s&&s(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,l=1;l<n.length;l++){var a=n[l];0!==r[a]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={1:0},i=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://savacan.github.io/demo-integration-layer/";var l=window.webpackJsonp=window.webpackJsonp||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=a;i.push([339,0]),n()}({339:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n(1),i=n(142),c=n(73),l=n(10),a=Object(l.a)("div",{target:"e1kdfghe0",label:"Wrapper"})({name:"1n9j08f",styles:"position:sticky;display:flex;flex-direction:column;"}),u=Object(l.a)("div",{target:"e1kdfghe1",label:"LinkLayout"})({name:"110ersl",styles:"margin:40px 40px;"}),s=Object(l.a)(c.b,{target:"e1kdfghe2",label:"StyledLink"})({name:"nn640c",styles:"text-decoration:none;color:inherit;"}),f=Object(l.a)("div",{target:"e1kdfghe3",label:"NaviLabel"})({name:"1pugq36",styles:"width:120px;height:50px;background:#d3d3d3;display:table-cell;vertical-align:middle;"}),p=Object(l.a)("p",{target:"e1kdfghe4",label:"NaviText"})(function(e){var t=e.size,n=void 0===t?"10px":t,o=e.color;return{fontSize:n,color:void 0===o?"inherit":o,textAlign:"center"}},""),d=[{text:"to top",path:"/"},{text:"to react component",path:"/react"},{text:"to vue component",path:"/vue"}],b=function(){return Object(o.c)(a,null,Object(o.c)("div",null,"sidebar area"),d.map(function(e,t){return Object(o.c)(u,{key:e.path},Object(o.c)(s,{to:e.path},Object(o.c)(f,null,Object(o.c)(p,{size:"16px"},e.text))))}))},y=Object(l.a)("div",{target:"eo4z9lu0",label:"Wrapper"})({name:"k008qs",styles:"display:flex;"}),m=Object(l.a)("div",{target:"eo4z9lu1",label:"SidebarArea"})({name:"4ym2fv",styles:"height:100vh;border-right:solid 3px gray;"}),h=Object(l.a)("div",{target:"eo4z9lu2",label:"MainArea"})({name:"1xanpi5",styles:"flex-grow:1;display:flex;flex-direction:column;align-items:center;"}),g=Object(l.a)("div",{target:"eo4z9lu3",label:"MountArea"})({name:"aim61a",styles:"margin-top:100px;"}),v=Object(l.a)("div",{target:"eo4z9lu4",label:"FooterArea"})({name:"pj0jr4",styles:"margin-top:auto;width:100%;background:gray;"}),j=function(e){var t=e.children;return Object(o.c)(y,null,Object(o.c)(m,null,Object(o.c)(b,null)),Object(o.c)(h,null,Object(o.c)(g,null,t),Object(o.c)(v,null,"footer area")))},O=n(15),w=n(74),x=n.n(w),k=[{key:"sidebar",url:"http://localhost:8002"},{key:"integration",url:"http://localhost:8001"},{key:"vueComponent",url:"http://localhost:8003"}],_=[{key:"sidebar",url:"http://localhost:8002"},{key:"vueComponent",url:"http://localhost:8003"},{key:"integration",url:"https://savacan.github.io/demo-integration-layer"}],P=function(e){var t=window.location.hostname;console.log(t);var n=function(e){return"localhost"===e?k:"savacan.github.io"===e?_:null}(t);if(null===n)return null;var o=n.find(function(t){return t.key===e});return o?o.url:null},S=function(e){return"".concat(e,"_vendor.bundle.js")},z=function(e){return"".concat(e,".bundle.js")},D={load:function(e){var t=e.segment,n=e.componentId,o=e.toId();return new Promise(function(e,r){var i=P(t);if(x.a.isDefined(o)&&e(),i)x()(["".concat(i,"/").concat(S(t)),"".concat(i,"/").concat(z(n))],o,{async:!1,success:function(){e()},error:function(e){r(e)}});else{var c=new Error("segments ".concat(t," is undefined"));r(c)}})},isDefined:function(e){return x.a.isDefined(e)}};function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,I(t).call(this,e))).refEls=r.createRef(),n.componentController={mount:function(){},unmount:function(){}},n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props.microId;window.registry.whenDefined(t.toId()).then(function(t){console.log("when defined ref is :",e.refEls.current),e.refEls.current&&(e.componentController=t(e.refEls.current),e.componentController.mount())}).catch(function(e){return console.log(e)}).finally(function(){return console.log("component load finaly")}),D.load(t)}},{key:"componentWillUnmount",value:function(){this.componentController.unmount()}},{key:"render",value:function(){var e=this.props.microId;return Object(o.c)("div",{ref:this.refEls,id:e.toId()})}}])&&C(n.prototype,i),c&&C(n,c),t}(),L=function(e,t){return{segment:e,componentId:t,toId:function(){return"".concat(e,"-").concat(t)}}},A=Object(l.a)("div",{target:"e1dt418o0",label:"Wrapper"})({name:"zupw4a",styles:"display:flex;justify-content:center;flex-direction:column;"}),W=Object(l.a)("div",{target:"e1dt418o1",label:"LabelDiv"})({name:"7v9qwg",styles:"font-size:32px;margin-bottom:100px;"}),R=function(){return Object(o.c)(A,null,Object(o.c)(W,null,"vue component route"),Object(o.c)(T,{microId:L("vueComponent","common"),type:"micro"}))},F=Object(l.a)("div",{target:"e1wyp3kt0",label:"Wrapper"})({name:"zupw4a",styles:"display:flex;justify-content:center;flex-direction:column;"}),J=Object(l.a)("div",{target:"e1wyp3kt1",label:"LabelDiv"})({name:"7v9qwg",styles:"font-size:32px;margin-bottom:100px;"}),N=function(){return Object(o.c)(F,null,Object(o.c)(J,null,"react component route"),Object(o.c)(T,{microId:L("sidebar","common"),type:"micro"}))};function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=Object(l.a)("div",{target:"et5cv3b0",label:"LabelDiv"})({name:"7v9qwg",styles:"font-size:32px;margin-bottom:100px;"}),V=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=G(this,H(t).call(this,e));var o=e.history;return window.context=window.context?window.context:{history:o},n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return Object(o.c)(r.Fragment,null,Object(o.c)(O.c,null,Object(o.c)(O.a,{path:"/",exact:!0,render:function(e){return Object(o.c)(Q,null,"top default route")}}),Object(o.c)(O.a,{path:"/react",component:N}),Object(o.c)(O.a,{path:"/vue",component:R})))}}])&&U(n.prototype,i),c&&U(n,c),t}(),X=Object(O.f)(V),Y={name:"1rhavrd-resetCss",styles:"html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent;}body{line-height:1;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}nav ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent;text-decoration:none;color:inherit;}ins{background-color:#ff9;color:#000;text-decoration:none;}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold;}del{text-decoration:line-through;}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help;}table{border-collapse:collapse;border-spacing:0;}hr{display:block;height:1px;border:0;border-top:1px solid #cccccc;margin:1em 0;padding:0;}input,select{vertical-align:middle;}*,*::before,*::after{box-sizing:border-box;}label:resetCss;"};function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.willDefine=new Map,this.defined=new Map}var t,n,o;return t=e,(n=[{key:"define",value:function(e,t){console.log("registry.define is called by id: ".concat(e)),this.defined.set(e,t);var n=this.willDefine.get(e);n&&(n.resolver(t),this.willDefine.delete(e))}},{key:"isDefined",value:function(e){return this.defined.has(e)}},{key:"get",value:function(e){return this.defined.get(e)}},{key:"whenDefined",value:function(e){var t=this.get(e);if(t)return Promise.resolve(t);var n=this.willDefine.get(e);if(n)return n.promise;var o=function(e){return console.log("miss setting resolver")},r=new Promise(function(e,t){o=function(t){return e(t)}});return this.willDefine.set(e,{promise:r,resolver:o}),r}}])&&Z(t.prototype,n),o&&Z(t,o),e}();(function(){var e=new $;window.registry=e,console.log("registry is init")})();i.render(Object(o.c)(function(){return Object(o.c)(c.a,{basename:"/demo-integration-layer"},Object(o.c)(o.a,{styles:Y}),Object(o.c)(j,null,Object(o.c)(X,null)))},null),document.getElementById("root"))}});